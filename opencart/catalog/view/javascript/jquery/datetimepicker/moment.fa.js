function mod(r,a){return r-a*Math.floor(r/a)}function jwday(r){return mod(Math.floor(r+1.5),7)}function leap_gregorian(r){return r%4==0&&!(r%100==0&&r%400!=0)}function gregorian_to_jd(r,a,o){return GREGORIAN_EPOCH-1+365*(r-1)+Math.floor((r-1)/4)+-Math.floor((r-1)/100)+Math.floor((r-1)/400)+Math.floor((367*a-362)/12+(2>=a?0:leap_gregorian(r)?-1:-2)+o)}function jd_to_gregorian(r){var a,o,n,e,t,d,i,_,f,g,l,u;a=Math.floor(r-.5)+.5,o=a-GREGORIAN_EPOCH,n=Math.floor(o/146097),e=mod(o,146097),t=Math.floor(e/36524),d=mod(e,36524),i=Math.floor(d/1461),_=mod(d,1461),f=Math.floor(_/365),g=400*n+100*t+4*i+f,4!=t&&4!=f&&g++,l=a-gregorian_to_jd(g,1,1),u=a<gregorian_to_jd(g,3,1)?0:leap_gregorian(g)?1:2;var y=Math.floor((12*(l+u)+373)/367),h=a-gregorian_to_jd(g,y,1)+1;return new Array(g,y,h)}function leap_persian(r){return 682>682*((r-(r>0?474:473))%2820+474+38)%2816}function persian_to_jd(r,a,o){var n,e;return n=r-(r>=0?474:473),e=474+mod(n,2820),o+(7>=a?31*(a-1):30*(a-1)+6)+Math.floor((682*e-110)/2816)+365*(e-1)+1029983*Math.floor(n/2820)+(PERSIAN_EPOCH-1)}function jd_to_persian(r){var a,o,n,e,t,d,i,_,f,g;return r=Math.floor(r)+.5,e=r-persian_to_jd(475,1,1),t=Math.floor(e/1029983),d=mod(e,1029983),1029982==d?i=2820:(_=Math.floor(d/366),f=mod(d,366),i=Math.floor((2134*_+2816*f+2815)/1028522)+_+1),a=i+2820*t+474,0>=a&&a--,g=r-persian_to_jd(a,1,1)+1,o=Math.ceil(186>=g?g/31:(g-6)/30),n=r-persian_to_jd(a,o,1)+1,new Array(a,o,n)}function calcPersian(r,a,o){var n,e;e=persian_to_jd(r,a,o),n=jd_to_gregorian(e);var t=jwday(e);return new Array(n[0],n[1],n[2],t)}function calcGregorian(r,a,o){a--;var n,e;n=gregorian_to_jd(r,a+1,o)+Math.floor(.5)/86400;var t=jd_to_persian(n);return e=jwday(n),new Array(t[0],t[1],t[2],e)}function getTodayGregorian(){var r=new Date,a=new Date,o=a.getYear();return 1e3>o&&(o+=1900),new Array(o,a.getMonth()+1,a.getDate(),r.getDay())}function GetTodayCalendarInPersian(){var r=new Date,a=getTodayGregorian(),o=calcGregorian(a[0],a[1],a[2]);return new Array(o[0],o[1],o[2],r.getDay())}var Weekdays=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),GREGORIAN_EPOCH=1721425.5,PERSIAN_EPOCH=1948320.5,PERSIAN_WEEKDAYS=new Array("دوشنبه","یکشنبه","چهارشنبه","سه شنبه","شنبه","جمعه","پنج شنبه");